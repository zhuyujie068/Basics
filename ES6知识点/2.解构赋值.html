<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        /*
          解构赋值的分类
          数组、对象、字符串、布尔值、函数参数、数值解构赋值
        */

        {
            let a, b, rest;
            [a, b] = [1, 2]
            console.log(a, b) // 1 2
        }


        {
            let a, b, rest;
            [a, b, ...rest] = [1, 2, 3, 4, 5, 6]
            console.log(a, b, rest) // 1  2  [3,4,5,6]
        }


        {
            let a, b;
            ({
                a,
                b
            } = {
                a: 1,
                b: 2
            })
            console.log(a, b) // 1 2
        }


        {
            let a, b, c, rest;
            [a, b, c = 3, rest] = [1, 2]
            console.log(a, b, c, rest) // 1 2 3 undefined
        }


        {
            // 使用场景 1 （三行换值）
            let a = 1;
            let b = 2;
            [a, b] = [b, a]
            console.log(a, b) // 2 1
        }

        {
            // 使用场景 2 （取函数值）
            function f() {
                return [1, 2]
            }
            let a, b;
            [a, b] = f()

            console.log(a, b) // 1 2
        }

        {
            // 使用场景 3 （选择性接收 函数返回的 参数 ）
            function f() {
                return [1, 2, 3, 4, 5]
            }
            let a, b, c;
            [a, , , b] = f()
            console.log(a, b) // 1 4
        }

        {
            // 使用场景 4 （ 取函数返回的第一个参数 ）
            function f() {
                return [1, 2, 3, 4, 5]
            }
            let a, b, c;
            [a, ...b] = f()
            console.log(a, b) // 1  [2,3,4,5]
        }




        // ----------- 对象解构赋值 （根据 key、value 方式进行匹配） 

        {
            let o = {
                p: 42,
                q: true
            }

            let {
                p,
                q
            } = o;
            console.log(p, q) // 42 true
        }

        {
            let {
                a = 10, b = 5
            } = {
                a: 3
            }
            console.log(a, b) // 3 5
        }

        {
            // 使用场景 5 (模拟 从 JSON 对象中 取值)
            let metaData = {
                title: 'abc',
                test: [{
                    title: 'test',
                    desc: 'description'
                }]
            }

            let {
                title: esTitle,
                test: [{
                    title: ctTitle
                }]
            } = metaData;

            console.log(esTitle, ctTitle) // abc test
        }
    </script>
</body>

</html>